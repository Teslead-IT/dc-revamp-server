{"level":"error","message":"❌ PostgreSQL connection failed: SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string","name":"SequelizeConnectionError","original":{},"parent":{},"stack":"SequelizeConnectionError: SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string\n    at Client._connectionCallback (D:\\Projects\\Teslead\\Nextjs\\dc-revamp-server\\node_modules\\.pnpm\\sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3\\node_modules\\sequelize\\src\\dialects\\postgres\\connection-manager.js:200:20)\n    at Client._handleErrorWhileConnecting (D:\\Projects\\Teslead\\Nextjs\\dc-revamp-server\\node_modules\\.pnpm\\pg@8.16.3\\node_modules\\pg\\lib\\client.js:336:19)\n    at Client._handleErrorEvent (D:\\Projects\\Teslead\\Nextjs\\dc-revamp-server\\node_modules\\.pnpm\\pg@8.16.3\\node_modules\\pg\\lib\\client.js:346:19)\n    at Connection.emit (node:events:519:28)\n    at Connection.emit (node:domain:489:12)\n    at Client._handleAuthSASLContinue (D:\\Projects\\Teslead\\Nextjs\\dc-revamp-server\\node_modules\\.pnpm\\pg@8.16.3\\node_modules\\pg\\lib\\client.js:284:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-25 16:58:11"}
{"level":"error","message":"Unhandled Rejection:","promise":{},"reason":{"name":"SequelizeDatabaseError","original":{"code":"22P02","file":"numutils.c","length":120,"line":"619","name":"error","position":"324","routine":"pg_strtoint32_safe","severity":"ERROR","sql":"SELECT \"id\", \"draftId\", \"partyId\", \"vehicleNo\", \"process\", \"totalDispatchedQuantity\", \"totalRate\", \"status\", \"showWeight\", \"showSquareFeet\", \"notes\", \"createdBy\", \"userId\", \"isAdmin\", \"updatedBy\", \"createdAt\", \"updatedAt\", \"deletedAt\" FROM \"draft_dc\" AS \"DraftDC\" WHERE (\"DraftDC\".\"deletedAt\" IS NULL AND (\"DraftDC\".\"id\" = 'DC-000001' AND \"DraftDC\".\"userId\" = 'admin-1'));"},"parameters":{},"parent":{"code":"22P02","file":"numutils.c","length":120,"line":"619","name":"error","position":"324","routine":"pg_strtoint32_safe","severity":"ERROR","sql":"SELECT \"id\", \"draftId\", \"partyId\", \"vehicleNo\", \"process\", \"totalDispatchedQuantity\", \"totalRate\", \"status\", \"showWeight\", \"showSquareFeet\", \"notes\", \"createdBy\", \"userId\", \"isAdmin\", \"updatedBy\", \"createdAt\", \"updatedAt\", \"deletedAt\" FROM \"draft_dc\" AS \"DraftDC\" WHERE (\"DraftDC\".\"deletedAt\" IS NULL AND (\"DraftDC\".\"id\" = 'DC-000001' AND \"DraftDC\".\"userId\" = 'admin-1'));"},"sql":"SELECT \"id\", \"draftId\", \"partyId\", \"vehicleNo\", \"process\", \"totalDispatchedQuantity\", \"totalRate\", \"status\", \"showWeight\", \"showSquareFeet\", \"notes\", \"createdBy\", \"userId\", \"isAdmin\", \"updatedBy\", \"createdAt\", \"updatedAt\", \"deletedAt\" FROM \"draft_dc\" AS \"DraftDC\" WHERE (\"DraftDC\".\"deletedAt\" IS NULL AND (\"DraftDC\".\"id\" = 'DC-000001' AND \"DraftDC\".\"userId\" = 'admin-1'));"},"timestamp":"2025-12-26 11:01:33"}
{"level":"error","message":"Unhandled Rejection:","promise":{},"reason":{"name":"SequelizeDatabaseError","original":{"code":"22P02","file":"numutils.c","length":120,"line":"619","name":"error","position":"324","routine":"pg_strtoint32_safe","severity":"ERROR","sql":"SELECT \"id\", \"draftId\", \"partyId\", \"vehicleNo\", \"process\", \"totalDispatchedQuantity\", \"totalRate\", \"status\", \"showWeight\", \"showSquareFeet\", \"notes\", \"createdBy\", \"userId\", \"isAdmin\", \"updatedBy\", \"createdAt\", \"updatedAt\", \"deletedAt\" FROM \"draft_dc\" AS \"DraftDC\" WHERE (\"DraftDC\".\"deletedAt\" IS NULL AND (\"DraftDC\".\"id\" = 'DC-000001' AND \"DraftDC\".\"userId\" = 'admin-1'));"},"parameters":{},"parent":{"code":"22P02","file":"numutils.c","length":120,"line":"619","name":"error","position":"324","routine":"pg_strtoint32_safe","severity":"ERROR","sql":"SELECT \"id\", \"draftId\", \"partyId\", \"vehicleNo\", \"process\", \"totalDispatchedQuantity\", \"totalRate\", \"status\", \"showWeight\", \"showSquareFeet\", \"notes\", \"createdBy\", \"userId\", \"isAdmin\", \"updatedBy\", \"createdAt\", \"updatedAt\", \"deletedAt\" FROM \"draft_dc\" AS \"DraftDC\" WHERE (\"DraftDC\".\"deletedAt\" IS NULL AND (\"DraftDC\".\"id\" = 'DC-000001' AND \"DraftDC\".\"userId\" = 'admin-1'));"},"sql":"SELECT \"id\", \"draftId\", \"partyId\", \"vehicleNo\", \"process\", \"totalDispatchedQuantity\", \"totalRate\", \"status\", \"showWeight\", \"showSquareFeet\", \"notes\", \"createdBy\", \"userId\", \"isAdmin\", \"updatedBy\", \"createdAt\", \"updatedAt\", \"deletedAt\" FROM \"draft_dc\" AS \"DraftDC\" WHERE (\"DraftDC\".\"deletedAt\" IS NULL AND (\"DraftDC\".\"id\" = 'DC-000001' AND \"DraftDC\".\"userId\" = 'admin-1'));"},"timestamp":"2025-12-26 11:02:55"}
{"fields":null,"index":"draft_dc_items_draftId_fkey","level":"error","message":"❌ Database sync failed: insert or update on table \"draft_dc_items\" violates foreign key constraint \"draft_dc_items_draftId_fkey\"","name":"SequelizeForeignKeyConstraintError","original":{"code":"23503","constraint":"draft_dc_items_draftId_fkey","detail":"Key (draftId)=(DC-000004) is not present in table \"draft_dc\".","file":"ri_triggers.c","length":289,"line":"2610","name":"error","routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"ALTER TABLE \"draft_dc_items\" ALTER COLUMN \"draftId\" SET NOT NULL;ALTER TABLE \"draft_dc_items\"  ADD FOREIGN KEY (\"draftId\") REFERENCES \"draft_dc\" (\"draftId\");","table":"draft_dc_items"},"parameters":{},"parent":{"code":"23503","constraint":"draft_dc_items_draftId_fkey","detail":"Key (draftId)=(DC-000004) is not present in table \"draft_dc\".","file":"ri_triggers.c","length":289,"line":"2610","name":"error","routine":"ri_ReportViolation","schema":"public","severity":"ERROR","sql":"ALTER TABLE \"draft_dc_items\" ALTER COLUMN \"draftId\" SET NOT NULL;ALTER TABLE \"draft_dc_items\"  ADD FOREIGN KEY (\"draftId\") REFERENCES \"draft_dc\" (\"draftId\");","table":"draft_dc_items"},"sql":"ALTER TABLE \"draft_dc_items\" ALTER COLUMN \"draftId\" SET NOT NULL;ALTER TABLE \"draft_dc_items\"  ADD FOREIGN KEY (\"draftId\") REFERENCES \"draft_dc\" (\"draftId\");","stack":"Error\n    at Query.run (D:\\Projects\\Teslead\\Nextjs\\dc-revamp-server\\node_modules\\.pnpm\\sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at D:\\Projects\\Teslead\\Nextjs\\dc-revamp-server\\node_modules\\.pnpm\\sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Function.sync (D:\\Projects\\Teslead\\Nextjs\\dc-revamp-server\\node_modules\\.pnpm\\sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3\\node_modules\\sequelize\\src\\model.js:1408:11)\n    at async syncDatabase (D:\\Projects\\Teslead\\Nextjs\\dc-revamp-server\\src\\core\\models\\index.ts:47:9)\n    at async initializeServer (D:\\Projects\\Teslead\\Nextjs\\dc-revamp-server\\src\\server.ts:27:13)","table":"draft_dc_items","timestamp":"2025-12-26 14:39:59"}
